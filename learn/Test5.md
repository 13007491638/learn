# 第五阶段

## 一、Python简介

优点：Python有较为完善的基础代码库和大量现成的第三方库，让我们编写的时候不必从零编写。

缺点：1.运行速度慢——因为python是解释型语言（其源代码不直接翻译成机器语言，而是先翻译成中间代码，再由解释器解释运行后运行）（JS也是解释型语言哦！其数字用指数形式保存）

​			2.代码无法加密

***

## 二、Python基础

### 1.语法

* 注释以#开头
* 当一行语句以冒号：结尾时，下方缩进的语句视为代码块（用缩进减少了大量的{花括号}）
* 缩进以四个空格为基准
* Python大小写敏感

### 2.数据类型和变量

#### 整数：

在程序中的表示方法和数学上的写法无差别，但是可以在数字之间添加下划线_以作区分

#### 浮点数：

整数与浮点数在计算机内部存储方式不同，可能导致0.1+0.2≠0.3的情况

#### 字符串：

单双引号中间的为字符串，在字符串中间用双引号夹单引号可以表示单引号，如果两者都需要表示则可以使用转义字符**\ **

* 可以使用r'' 表示两个单引号中间无需转义

* 可以用'''与'''中间输出多行文字（编辑页面进行换行，输出页面也换行）

#### 布尔值：

布尔值和布尔代数的表示法一模一样

#### 变量：

变量的命名和C语言的命名要求一致（大小写英文数字和下划线，不能用数字开头）

#### 常量：

整数有两种除法，其一是  **/**  ——精确的除法，其二则是  **//**  ——地板除（忽略小数点后的数字）

#### 格式化替换：

即在一段同样的文本下使用占位符：%d %f %s(通用) %x(十六进制整数)

或者使用format()，其占位符是{0}，{1}等等

最后一种是f-string，其占位符内容可以是变量，比如你之前命名的变量a可以写成{a}，显示就是变量a的值

### 3.List和tuple

#### List：

列表（类似于数组，可以说就是简化后数据结构里的list，然而操作上更像数据结构的stack）

* len()获取元素个数
* list[-1]可以直接获取最后一个元素
* pop()删除list尾部元素，pop(i)删除指定位置元素
* list内部元素的数据结构可以完全不同
* list元素也可以是另一个list（这个性质和数据结构一样）

#### Tuple：

元组——是一种有序列表，但是一旦初始化就无法再修改

* 定义方式：直接用小括号括起来（）
* 空tuple可以写成（）；只有一个元素的必须加一个，消除歧义——（1,）代表tuple中只有一个元素，元素值为1

* 用tuple嵌套list就可以达到可变元素的tuple了，这是因为tuple中的list元素并未改变，改变的只是list中的元素（套娃）

### 4.条件判断

* if后面不要加括号，但是else后面要加**：**冒号
* elif：是else if 的缩写，用于多次的判断

#### 5.循环

（1）for in循环

​	for x in list——把list中的每一个元素都代入变量x进行循环

（2）while 循环

​	只要条件满足就不断循环，不满足条件就退出循环

* break可以退出循环
* continue跳过本次

### 6.Dict和Set

#### Dict：

字典，是一种key-value存储方式，一对一，像字典翻页一样，所以查找速度极快

* 可以通过in判断key是否存在：’str‘ in list（它会返回一个布尔值）
* 或者用get()，如果key不存在会返回none
* pop(key)可以从字典中删除一个key
* dict的key必须是不可变对象（不然key朝令夕改会找不到的）所以list不能作为一个key

#### set：

set也是存储一组key，但是不存储value，且自动过滤重复元素，可以看成一个无序数列，可以交并补等运算

* 创立一个set需要一个list作为输入集合
* add(key)添加元素
* remove(key)删除元素

***

## 三、函数

### 1.调用函数&一些基本函数

函数名也可以赋给一个变量，即给该函数起了个别名

* abs()：求绝对值
* max()：求输入参数中最大的那个
* hex()：整数转换十六进制
* input()：**在程序中得到的输入是用字符串的形式来保存的**
* range(x)：生成一个从0开始到x的整数**序列**（需要用list(range(x))再转换为list形式
* isinstance()：检查函数类型，并抛出报错
* enumerate()：可以把一个list变成索引-元素对，通常在迭代中出现
* append()：在list尾部添加新对象

### 2.定义函数

定义式**def f(x):**，用return返回值

空函数可以用pass语句写在函数体中，就算什么都不做，只是作为占位符的作用，让代码能跑起来

python本身只能检查出函数参数个数的错误，而无法检查出参数类型不匹配这种错误，所以我们有时候需要用到isinstance函数

python函数的return表面上看起来可以返回多个值，实际上这多个值都是写在一个tuple中的！所以返回的还是一个值！

**函数参数**：可以使用默认值，这样在大部分情况下无需多填参数，在需要改变的时候也比较方便，**特别注意默认参数不能指向list，他是一个可变的对象，默认参数必须指向不变对象**

**可变参数**：在参数前加一个星号*****，意味着可以传入多个参数，或者写成***list**：表示把这个list的所有元素作为可变参数传入

**关键词参数**：一个顶级占位符——可以在关键词参数的位置传入0个或者任意多个含参数名的参数，这些传入的参数将在函数内部以一个dict的形式展示（必填项之外的可选项），参数格式为**X——两个星号开头，输入时用X参数就可以多种显示了（X也可以是一个dict

**命名关键字参数**：针对上面的关键字参数的，允许传入任意不受限制的关键字参数▲

tips：

`*args`是可变参数，args接收的是一个tuple；

`**kw`是关键字参数，kw接收的是一个dict。

***

## 四、高级特性

### 1.切片

**L[0:3]**意思是取L list的从0号到3号元素——**字符串[开始索引：结束索引：步长]**

* 如果是0的话可以省略
* 还可以倒数切片，但是倒数第一个元素的索引是**-1**
* [:]可以原样复制一个list
* tuple和字符串也可以使用切片操作
* 填入步长（默认为1）可以达到隔数取数的效果

### 2.迭代

for循环遍历一个list或者tuple就叫做迭代，然而迭代在python中还可以对dict，字符串等进行遍历（对dict的迭代比较特殊，一般是迭代的key）

### 3.列表生成式

把要生成的元素放在for循环之前，用[ ]框起来，就可以生成一个带有指定条件的list，还可以加上if判断（不能加else，因为这里的if是过滤条件而不是判断条件），或者用两层循环生成全排列

### 4.生成器

在循环的过程中不断推算后续元素的机制就叫生成器：generator

generator的创建方式就是将列表生成式最外层的[ ]换成( )，不是换列表最外层的[ ]原因是他是需要不断推算得出后续元素的一个‘list’，所以其实！generator保存的是一种算法！（列表生成式中那个用于计算后续元素的算法）

***

## 五、函数式编程

特点：允许把函数本身作为参数传入另一个函数，还能允许返回一个函数！

变量可以指向函数！函数名也是变量！（很像数组名也是一个头地址这个概念）

#### 1.高阶函数

传入函数：既然我们说了函数名也是一个变量，那么函数名也能传入另一个函数作为参数，然后我们就可以在外层函数中调用内层函数了，这种外层函数就叫做高阶函数。

高阶函数的意义在于他把一些运算规则简化了，让我们一看就懂

* map()：
  * map函数接受一个函数参数、一个Iterable迭代对象参数，然后map将传入的函数作用到迭代序列中的每一个对象，返回一个Iterator惰性序列（惰性序列：就是你不主动遍历他，他就不会计算序列中的值的一个序列，有点点像生成器哦）

* reduce()：
  * reduce()函数作用在一个序列上，这个函数接受两个值，然后reduce把结果和序列的下一个元素继续做累计计算

* filter()：
  * filter()用于过滤序列，和map类似也只接收一个函数和一个序列，然后把传入的函数作用在每一个元素上，根据其返回的布尔值来决定保留或者丢弃该元素，最后返回一个Iterator惰性序列

* sorted()：
  * 排序函数，同样也是一个高阶函数（可以通过多传入的那个函数来改变排序的依据，这个传入函数比较学术的名字就叫映射函数，这个名字恰当的好呀！）

#### 2.返回函数

对应前面的高阶函数是将函数作为参数传入，返回函数就是把函数作为结果值返回，当这个高阶外部函数返回一个内部函数时，相关参数和变量都保存在返回的函数中，这种就称为闭包。▲

#### 3.匿名函数

lambda表示匿名函数，只能有一个表达式，不用写return，优点在于函数没有名字，不用担心函数名冲突。

#### 4.装饰器

***

## 六、模块

在python中，一个.py文件就可以说是一个模块，模块就像一个个积木，拿来可以直接用（有内置也有第三方模块），使用模块可以避免函数名和变量名相冲突；在顶层架构上，Python引入了目录的方式来组织模块（自己创建的模块不要和系统自带模块重名了），就叫做包（文件夹/文件包），里面包含了一个个的py文件，然后这个包的结构也可以多层，每一个子包都有一个_ _init __.py文件（类似于README.md），但是不能删除这个文件！

#### 1.使用模块

模块其实在作用域这个方面是很像C++中的class的，他有正常的变量，也有一些特殊变量`__xxx__`有特殊用途，还有非公开的私有的`_xxx`变量，不应该被直接引用

#### 2.引入第三方模块

▲

***

## 七、面向对象编程

调用的对象的关联函数（**实例**中的函数），我们叫做对象的方法

#### 1.类和实例

Python中定义类：class name(object)（其中object表示从哪个类继承而来）

`__init__`方法（函数）的第一个参数永远是self，表示其实例本身（这个变量是不用传入参数的）

#### 2.访问限制

即类似于C++中的改变内部函数或者变量的私有或公开属性，__两个下划线就表示是私有属性的变量或者函数， _一个下划线按照约定俗成的规矩是“虽然能被访问但是你还是把我看成私有变量吧”的意思

#### 3.继承和多态

动态语言和静态语言▲

鸭子类型▲

#### 4.获取对象信息

* type()函数返回某个对象的信息，这个函数返回的实际上是Class类型

* 判断class的类型我们一般使用isinstance()，输入一个变量一个Class类型，可以判断是不是相同（比type(更方便)）
  * 用type()判断的基本类型也可以使用isinstance()判断，甚至还能判断一个变量是否是某种类型中的一种

* dir()可以让我们获得一个对象的所有属性和方法，它会返回一个list其中包含这些内容

* getattr(class,'x'):获取某个类的某个属性
* setattr(class,'y',19);设置某个类的某个属性
* hasattr(class,'x'):有某个属性吗

#### 5.实例属性和类属性

